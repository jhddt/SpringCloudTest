server:
  port: 8083

spring:
  application:
    name: demo-client

eureka:
  client:
    service-url:
      defaultZone: http://192.168.141.128:1111/eureka/,http://192.168.141.128:2222/eureka/
    fetch-registry: true
    register-with-eureka: true
  instance:
    prefer-ip-address: true

# Resilience4j 默认配置
resilience4j.circuitbreaker:
  instances:
    userServiceCircuitBreaker:
      register-health-indicator: true
      sliding-window-type: COUNT_BASED
      sliding-window-size: 3          # 3 次调用窗口
      minimum-number-of-calls: 2
      failure-rate-threshold: 50      # 50% 失败触发熔断
      wait-duration-in-open-state: 5000  # 5 秒后尝试半开
      record-exceptions:
        - java.lang.RuntimeException
        - java.util.concurrent.TimeoutException

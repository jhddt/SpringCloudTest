# Spring Cloud Config Client 配置
spring:
  # 应用名称配置
  application:
    name: demo
  # 激活的配置文件，默认为dev环境
  profiles:
    active: dev
  # 导入外部配置，连接到配置服务器
  config:
    import: "optional:configserver:http://192.168.141.128:9006"
  # Spring Cloud Config 客户端配置
  cloud:
    config:
      # 配置仓库标签（分支）
      label: main
      # 配置环境标识，使用固定的值而不是引用变量
      profile: dev
  # RabbitMQ 消息队列配置，用于消息总线
  rabbitmq:
    host: 192.168.141.128
    port: 5672
    username: admin
    password: admin

# 多环境配置：开发环境配置部分
---
spring:
  config:
    activate:
      on-profile: dev

# 多环境配置：生产环境配置部分
---
spring:
  config:
    activate:
      on-profile: pro

# 问题排查提示：
# 1. 确保ConfigServerGit服务运行在192.168.141.128:9006
# 2. 确保Git仓库中的配置文件格式正确，路径为config/demo-dev.yml
# 3. 确保RabbitMQ服务运行在192.168.141.128:5672
# 4. 如果配置值为null，检查Git仓库中的配置文件是否存在data.env属性